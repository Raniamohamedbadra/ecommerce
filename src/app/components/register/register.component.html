<form [ngSwitch]="handleRegister()" [formGroup]="registerForm" class="rounded shadow w-75 mx-auto bg-main-light p-4">
  <div class="form-item">
    <label for="name">name</label>
    <input formControlName="name"  class="form-control" type="text" id="name" >
    <div *ngIf="registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.value.length > 0 )" class="alert alert-danger">
      <p *ngIf="registerForm.get('name')?.getError('required')">name is required</p>
      <p *ngIf="registerForm.get('name')?.getError('minlength')">name min length 3</p>
      <p *ngIf="registerForm.get('name')?.getError('maxlength')">name max length 20</p>
    </div>
  </div>


  <div class="form-item">
    <label for="email">email</label>
    <input formControlName="email" class="form-control" type="email" id="email" >
    <div *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.value.length > 0 )" class="alert alert-danger">
      <p *ngIf="registerForm.get('email')?.getError('required')">email is required</p>
      <p *ngIf="registerForm.get('email')?.getError('email')">email invalid format</p>
      
    </div>
  </div>


  <div class="form-item">
    <label for="password">password</label>
    <input formControlName="password"  class="form-control" type="password" id="password" >
    <div *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.value.length > 0 )" class="alert alert-danger">
      <p *ngIf="registerForm.get('password')?.getError('required')">password is required</p>
      <p *ngIf="registerForm.get('password')?.getError('pattern')">password must be at least 6 charc</p>
    </div>
  </div>

  <div class="form-item">
    <label for="rePassword">rePassword</label>
    <input formControlName="rePassword"  class="form-control" type="password" id="rePassword" >
    <div *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.value.length > 0 )" class="alert alert-danger">
      <p *ngIf="registerForm.get('rePassword')?.getError('required')">rePassword is required</p>
      <p *ngIf="registerForm.get('rePassword')?.getError('pattern')">rePassword must be at least 6 charc</p>
    </div>
  </div>



  <div class="form-item">
    <label for="phone">phone</label>
    <input formControlName="phone"  class="form-control" type="tel" id="phone" >
    <div *ngIf="registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || registerForm.get('phone')?.value.length > 0 )" class="alert alert-danger">
      <p *ngIf="registerForm.get('phone')?.getError('required')">phone is required</p>
      <p *ngIf="registerForm.get('phone')?.getError('pattern')">phone accept only egypt phone numbers</p>
    </div>
  </div>



  <button class="main-btn d-block ms-auto" type="submit" [disabled]="registerForm.invalid" >Register 
    <span *ngIf="isLoading">
    <i class="fas fa-spin fa-spinner"></i>
  </span>
</button>


<p *ngIf="errorMsg" class="alert alert-danger">{{errorMsg}}</p>
</form>
